<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BIS 620 Final Project • bis620.2023</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="BIS 620 Final Project">
<meta property="og:description" content="bis620.2023">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bis620.2023</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/BIS%20620%20Final%20Project.html">BIS 620 Final Project</a>
    </li>
    <li>
      <a href="../articles/spectral-signatures.html">Spectral Signatures</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>BIS 620 Final Project</h1>
            
      
      
      <div class="hidden name"><code>BIS 620 Final Project.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="predictive-analysis-of-the-severity-of-adverse-effects-in-denosumab-treatment-for-breast-cancer">Predictive Analysis of the Severity of Adverse Effects in Denosumab
Treatment for Breast Cancer<a class="anchor" aria-label="anchor" href="#predictive-analysis-of-the-severity-of-adverse-effects-in-denosumab-treatment-for-breast-cancer"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">bis620.2023</span><span class="op">)</span></span></code></pre></div>
<p>In this project, we utilized the datasets from the NCT00089661 study
(from Project Datasphere website – <a href="https://data.projectdatasphere.org/projectdatasphere/html/content/153" class="external-link">Link</a>.
Study title: “A Randomized, Double-Blind, Placebo-Controlled Study to
Evaluate AMG 162 in the Treatment of Bone Loss in Subjects Undergoing
Aromatase Inhibitor Therapy for Non-metastatic Breast Cancer”. The
objective is to forecast the potential severity of adverse effects (the
max grade of adverse effects experienced) based on patients’ initial
body condition metrics. Such predictions could be instrumental for
healthcare providers and patients in preemptively managing treatment
expectations and outcomes.</p>
</div>
<div class="section level2">
<h2 id="background-information-motivation-">Background Information &amp; Motivation.<a class="anchor" aria-label="anchor" href="#background-information-motivation-"></a>
</h2>
<p>Breast cancer continues to pose significant health challenges
globally. Despite advancements in treatment, the quest for optimizing
therapeutic strategies remains critical. This analysis focuses on
denosumab, an osteoclast inhibitor used in the management of bone
metastases in cancer patients. Understanding its adverse effects could
significantly impact patient care and treatment customization. The
dataset we use comprises exclusively female breast cancer patients. Our
analysis is driven by the need to provide actionable insights for
healthcare professionals, enabling informed decision-making that could
enhance patient quality of life during treatment.</p>
</div>
<div class="section level2">
<h2 id="research-question">Research Question<a class="anchor" aria-label="anchor" href="#research-question"></a>
</h2>
<p>The primary goal of our research is to predict the potential severity
of adverse effects following denosumab treatment based on patients’
initial physiological state. By establishing a correlation between
pre-treatment body condition and subsequent adverse effects, we aim to
aid in the anticipatory management of patient care.</p>
</div>
<div class="section level2">
<h2 id="data-cleaning-and-exploration">Data Cleaning and Exploration<a class="anchor" aria-label="anchor" href="#data-cleaning-and-exploration"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">avs</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">abmdxa</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">aae</span><span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="data-cleaning">Data Cleaning<a class="anchor" aria-label="anchor" href="#data-cleaning"></a>
</h4>
<p>In our analysis, we first focused on the “avs” dataset. In
particular, only the entries labeled as “SCREEN” in the “VISIT” column
were retained (since we only need the initial body condition of
patients). We observed instances of multiple “SCREEN” records for
individual patients identified by “SUBJID”. Given the 24-month duration
of the study, we computed the mean age of patients. Then, we transformed
the dataset from a long to a wide format for better accessibility and
analysis. Race was re-encoded as follows: ‘WHITE OR CAUCASIAN’ to 1,
‘HISPANIC OR LATINO’ to 2, and all other races to 3. Height and weight
variables are removed to address potential multicollinearity problem
with the BMI (mean) variable.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">avs</span> <span class="op">=</span> <span class="va">avs</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">VISIT</span> <span class="op">==</span> <span class="st">"SCREEN"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">SUBJID</span>, <span class="va">AGEY</span>, <span class="va">SEX</span>, <span class="va">RACE</span>, <span class="va">VSTESTCD</span>, <span class="va">VSSTRESN</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">SUBJID</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">AGEY</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">AGEY</span><span class="op">)</span></span>
<span></span>
<span><span class="va">avs</span> <span class="op">=</span> <span class="va">avs</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span>names_from <span class="op">=</span> <span class="va">VSTESTCD</span>, values_from <span class="op">=</span> <span class="va">VSSTRESN</span><span class="op">)</span></span>
<span></span>
<span><span class="va">avs</span> <span class="op">=</span> <span class="va">avs</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>race <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>    <span class="va">RACE</span> <span class="op">==</span> <span class="st">"WHITE OR CAUCASIAN"</span> <span class="op">~</span> <span class="fl">1</span>,</span>
<span>    <span class="va">RACE</span> <span class="op">==</span> <span class="st">"HISPANIC OR LATINO"</span> <span class="op">~</span> <span class="fl">2</span>,</span>
<span>    <span class="va">RACE</span> <span class="op">==</span> <span class="st">"OTHER"</span> <span class="op">~</span> <span class="fl">3</span>,</span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">RACE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">avs</span> <span class="op">=</span> <span class="va">avs</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">HEIGHT</span>, <span class="op">-</span><span class="va">WEIGHT</span><span class="op">)</span></span></code></pre></div>
<p>Bone density was calculated in the “abmdxa” dataset by dividing
‘DXABMCB(g)’ by ‘DXAAREA(cm^2)’, and we categorized bone measurements
into NECK, SPINE, and HIP.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">abmdxa</span> <span class="op">=</span> <span class="va">abmdxa</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">SUBJID</span>, <span class="va">BMLOC</span>, <span class="va">DXABMCB</span>, <span class="va">DXAAREAB</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>daxbmd <span class="op">=</span> <span class="va">DXABMCB</span> <span class="op">/</span> <span class="va">DXAAREAB</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html" class="external-link">distinct</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">DXABMCB</span>, <span class="op">-</span><span class="va">DXAAREAB</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span>names_from <span class="op">=</span> <span class="va">BMLOC</span>, values_from <span class="op">=</span> <span class="va">daxbmd</span><span class="op">)</span></span></code></pre></div>
<p>Lastly, we examined the “AETOXGR” (standard toxicity grade) column in
the “aae” dataset to determine the level of adverse effects, selecting
the highest toxicity grade recorded for each patient to ensure the
study’s focus on the most severe outcomes. (If the missing data of one
patient is greater than 8, then we ignore this patient.)</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">aae</span> <span class="op">=</span> <span class="va">aae</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">SUBJID</span>, <span class="va">AETOXGR</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">SUBJID</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>max_aetoxgr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">AETOXGR</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">AETOXGR</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html" class="external-link">distinct</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create "df" that will be used in model fitting</span></span>
<span><span class="va">df</span> <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">aae</span>, <span class="va">avs</span>, by <span class="op">=</span> <span class="st">"SUBJID"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">abmdxa</span>, by <span class="op">=</span> <span class="st">"SUBJID"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">df</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">)</span> <span class="op">&lt;=</span> <span class="fl">8</span>, <span class="op">]</span></span>
<span></span>
<span><span class="va">changed_columns</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age"</span>, <span class="st">"BMI"</span>, <span class="st">"DIABP"</span>, <span class="st">"PULSE"</span>, <span class="st">"SYSBP"</span>, <span class="st">"RESP"</span>, <span class="st">"TEMP"</span>, <span class="st">"FEMORAL NECK"</span>, <span class="st">"LUMBAR SPINE"</span>, <span class="st">"TOTAL HIP"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># replace NAs in numeric columns with column mean</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">col</span> <span class="kw">in</span> <span class="va">changed_columns</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">col_mean</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">df</span><span class="op">[[</span><span class="va">col</span><span class="op">]</span><span class="op">]</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="va">df</span><span class="op">[[</span><span class="va">col</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">df</span><span class="op">[[</span><span class="va">col</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">col_mean</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="exploration-eda">Exploration (EDA)<a class="anchor" aria-label="anchor" href="#exploration-eda"></a>
</h4>
<p>In this section, we created some distribution plots for a subset of
our variables. Concerning the variable “max_aetoxgr”, the majority of
observations center around Grade 2. This suggests that the overall
severity of adverse events related to denosumab under aromatase
inhibitor treatment is relatively moderate. Furthermore, the age range
of patients in the dataset spans from 50 to 70 years, with data
clustering observed at both extremes. Additionally, the distribution of
BMI is slightly skewed to the right.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="va">variables</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"max_aetoxgr"</span>, <span class="st">"age"</span>, <span class="st">"BMI"</span>, <span class="st">"FEMORAL_NECK"</span>, <span class="st">"LUMBAR_SPINE"</span>, </span>
<span>              <span class="st">"TOTAL_HIP"</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">=</span> <span class="va">df</span></span>
<span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">var</span> <span class="kw">in</span> <span class="va">variables</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span>  <span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">is.numeric</a></span><span class="op">(</span><span class="va">data</span><span class="op">[[</span><span class="va">var</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span>    <span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">.data</span><span class="op">[[</span><span class="va">var</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>         <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">geom_histogram</a></span><span class="op">(</span>bins <span class="op">=</span> <span class="fl">20</span>, fill <span class="op">=</span> <span class="st">"skyblue"</span>, color<span class="op">=</span><span class="st">"black"</span><span class="op">)</span> <span class="op">+</span></span>
<span>         <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Histogram of"</span>, <span class="va">var</span><span class="op">)</span>, x <span class="op">=</span> <span class="va">var</span>, y <span class="op">=</span> <span class="st">"Frequency"</span><span class="op">)</span> <span class="op">+</span></span>
<span>         <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>         <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span></span>
<span>    <span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">.data</span><span class="op">[[</span><span class="va">var</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>         <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"skyblue"</span>, color<span class="op">=</span><span class="st">"black"</span><span class="op">)</span> <span class="op">+</span></span>
<span>         <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Bar Plot of"</span>, <span class="va">var</span><span class="op">)</span>, x <span class="op">=</span> <span class="va">var</span>, y <span class="op">=</span> <span class="st">"Count"</span><span class="op">)</span> <span class="op">+</span></span>
<span>         <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>         <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p><img src="BIS%20620%20Final%20Project_files/figure-html/unnamed-chunk-7-1.png" width="700"><img src="BIS%20620%20Final%20Project_files/figure-html/unnamed-chunk-7-2.png" width="700"><img src="BIS%20620%20Final%20Project_files/figure-html/unnamed-chunk-7-3.png" width="700"><img src="BIS%20620%20Final%20Project_files/figure-html/unnamed-chunk-7-4.png" width="700"><img src="BIS%20620%20Final%20Project_files/figure-html/unnamed-chunk-7-5.png" width="700"><img src="BIS%20620%20Final%20Project_files/figure-html/unnamed-chunk-7-6.png" width="700"></p>
</div>
</div>
<div class="section level2">
<h2 id="statistical-experiment-analysis">Statistical Experiment Analysis<a class="anchor" aria-label="anchor" href="#statistical-experiment-analysis"></a>
</h2>
<p>Our group decided to fit a multiclass classification model using the
random forest algorithm.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/topepo/caret/" class="external-link">caret</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.stat.berkeley.edu/~breiman/RandomForests/" class="external-link">randomForest</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="co"># load the cleaned data frame (should be the same as the "df" above)</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df3</span> <span class="op">=</span> <span class="va">df</span></span>
<span><span class="va">model_results</span> <span class="op">=</span> <span class="fu"><a href="../reference/ae_prediction.html">ae_prediction</a></span><span class="op">(</span>input_df <span class="op">=</span> <span class="va">df3</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># print the model summary</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">model_results</span><span class="op">$</span><span class="va">model_summary</span><span class="op">)</span></span>
<span><span class="co">#&gt; randomForest(formula = max_aetoxgr ~ ., data = training_data, </span></span>
<span><span class="co">#&gt;     ntree = 1000)</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># display the confusion matrix</span></span>
<span><span class="va">model_results</span><span class="op">$</span><span class="va">confusion_matrix</span></span>
<span><span class="co">#&gt;           Reality</span></span>
<span><span class="co">#&gt; Prediction 01 02 03 04</span></span>
<span><span class="co">#&gt;         01  0  1  0  0</span></span>
<span><span class="co">#&gt;         02  2  7  4  0</span></span>
<span><span class="co">#&gt;         03  1  2  0  0</span></span>
<span><span class="co">#&gt;         04  0  0  0  0</span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># show the calculated feature_importance</span></span>
<span><span class="va">model_results</span><span class="op">$</span><span class="va">feature_importance</span></span>
<span><span class="co">#&gt;                Overall</span></span>
<span><span class="co">#&gt; SEX          0.0000000</span></span>
<span><span class="co">#&gt; age          4.4338637</span></span>
<span><span class="co">#&gt; BMI          5.7244288</span></span>
<span><span class="co">#&gt; DIABP        4.6343387</span></span>
<span><span class="co">#&gt; PULSE        4.6926887</span></span>
<span><span class="co">#&gt; SYSBP        4.1045016</span></span>
<span><span class="co">#&gt; RESP         2.4546152</span></span>
<span><span class="co">#&gt; TEMP         3.9868399</span></span>
<span><span class="co">#&gt; race         0.7714041</span></span>
<span><span class="co">#&gt; FEMORAL_NECK 5.1128790</span></span>
<span><span class="co">#&gt; LUMBAR_SPINE 5.9925607</span></span>
<span><span class="co">#&gt; TOTAL_HIP    6.3920040</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="interpretation-and-conclusions">Interpretation and Conclusions<a class="anchor" aria-label="anchor" href="#interpretation-and-conclusions"></a>
</h2>
<p>From the feature importance results above, we can see that the first
four most important varaibles in our random forest model are “BMI”,
“FEMORAL_NECK”, “LUMBAR_SPINE”, and “TOTAL_HIP”. This outcome is
consistent with our expectations. Individuals with higher bone densities
in various body parts (for instance, neck, spine, and hip) are less
prone to experiencing osteoporosis-related adverse events, while
patients with abnormal BMI values are more likely to develop such
adverse events.<br>
However, there are still some flaws within our random forest model.
First, we have a fairly good classification accuracy, which might be
mainly due to the small cohort of our data sample (less than 100
patients). Besides, the data we used in this project contains only the
patients information at the time of screening. Thus, we can try using
data from different experiment time points to enrich our dataset and
refine our algorithm.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by The package maintainers.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
